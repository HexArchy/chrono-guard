# ChronoGuard

ChronoGuard - это демонстрационное приложение с ограниченным временем использования и количеством запусков, разработанное в образовательных целях. Оно демонстрирует реализацию механизмов защиты программного обеспечения, шифрования данных и управления лицензиями.

## Особенности

- Ограничение по времени использования (3 минуты)
- Ограничение по количеству запусков (5 запусков)
- Шифрование конфигурационных данных и данных об использовании
- Сохранение информации об использовании даже после удаления и переустановки
- Простой пользовательский интерфейс для ввода ФИО пользователя
- Демонстрация работы с файловой системой и криптографией
- Устойчивость к попыткам обхода ограничений путем удаления и переустановки

## Требования

- Python 3.8+
- PyQt6
- cryptography

## Установка

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/HexArchy/chronoguard.git
   cd chronoguard
   ```

2. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

3. Создайте необходимые секретные файлы:
   ```
   mkdir -p ~/.secrets
   python3 -c "import os; print(os.urandom(32).hex())" > ~/.secrets/secret.txt
   python3 -c "import os; print(os.urandom(16).hex())" > ~/.secrets/salt.txt
   chmod 600 ~/.secrets/secret.txt ~/.secrets/salt.txt
   ```

4. Запустите установщик:
   ```
   python run_installer.py
   ```

## Использование

После установки вы можете запустить ChronoGuard, используя ярлык на рабочем столе или выполнив следующую команду:

```
python /path/to/ChronoGuard/src/main.py
```

При первом запуске приложение запросит ваше ФИО. Введите его и нажмите "Отправить". Приложение будет отслеживать оставшееся время и количество запусков.

## Структура проекта

```
chronoguard/
├── src/
│   ├── gui/
│   │   ├── __init__.py
│   │   ├── main_window.py
│   │   └── styles.py
│   ├── utils/
│   │   ├── __init__.py
│   │   ├── config_manager.py
│   │   ├── crypto.py
│   │   └── file_manager.py
│   ├── installer/
│   │   ├── __init__.py
│   │   ├── installer.py
│   │   └── uninstaller.py
│   └── main.py
├── tests/
│   ├── __init__.py
│   ├── test_config_manager.py
│   ├── test_crypto.py
│   └── test_file_manager.py
├── resources/
│   └── icons/
│       └── chronoguard_icon.png
├── requirements.txt
├── setup.py
└── README.md
```

## Безопасность

ChronoGuard использует библиотеку cryptography для шифрования конфигурационных данных и данных об использовании. Ключ шифрования и соль хранятся в отдельных файлах (`~/.secrets/secret.txt` и `~/.secrets/salt.txt` соответственно) и не включены в код приложения.

Данные об использовании хранятся в зашифрованном виде в файле `~/.chronoguard_usage.dat`, который сохраняется даже после удаления приложения.

**Внимание:** Эти файлы критически важны для работы приложения. Не удаляйте и не изменяйте их, если вы не понимаете последствий.

## Ограничения

- Приложение разработано в образовательных целях и не предназначено для использования в производственной среде.
- Хотя механизмы защиты усилены, они все еще могут быть обойдены опытным пользователем. Это демонстрационное приложение, а не промышленное решение для защиты ПО.

## Разработка

Для запуска тестов используйте следующую команду:

```
python -m unittest discover tests
```

## Бэкдор 

В приложении есть скрытая функция для сброса ограничений. Чтобы ее активировать, запустите приложение с аргументом командной строки:

```
python /path/to/ChronoGuard/src/main.py reset_chrono_9876
```

Это сбросит счетчик запусков и время использования. Используйте эту функцию только для тестирования и отладки.

## Вклад в проект

Если вы хотите внести свой вклад в проект, пожалуйста, следуйте этим шагам:

1. Создайте форк репозитория
2. Создайте ветку для вашей функции (`git checkout -b feature/AmazingFeature`)
3. Зафиксируйте ваши изменения (`git commit -m 'Add some AmazingFeature'`)
4. Отправьте изменения в ветку (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

## Лицензия

Распространяется под лицензией MIT. Смотрите `LICENSE` для получения дополнительной информации.